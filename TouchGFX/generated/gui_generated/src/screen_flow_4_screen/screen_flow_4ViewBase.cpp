/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screen_flow_4_screen/screen_flow_4ViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <images/BitmapDatabase.hpp>

screen_flow_4ViewBase::screen_flow_4ViewBase() :
    frameCountInteraction1Interval(0),
    flexButtonCallback(this, &screen_flow_4ViewBase::flexButtonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 320, 240);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setPosition(0, 0, 320, 240);
    background.setColor(touchgfx::Color::getColorFromRGB(237, 237, 237));
    add(background);

    s0_initNFC.setPosition(0, 0, 320, 240);
    init_nfc_thinking_circles.setXY(95, 170);
    s0_initNFC.add(init_nfc_thinking_circles);

    init_nfc_text1.setXY(110, 140);
    init_nfc_text1.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    init_nfc_text1.setLinespacing(0);
    init_nfc_text1.setTypedText(touchgfx::TypedText(T_SF4_INIT_NFC_TEXT1));
    s0_initNFC.add(init_nfc_text1);

    init_nfc_text2.setXY(178, 140);
    init_nfc_text2.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    init_nfc_text2.setLinespacing(0);
    init_nfc_text2.setTypedText(touchgfx::TypedText(T_SF4_INIT_NFC_TEXT2));
    s0_initNFC.add(init_nfc_text2);

    init_nfc_image.setXY(124, 44);
    init_nfc_image.setBitmap(touchgfx::Bitmap(BITMAP_GRAFISMO_ACTIVANDO_NFC_CUVEX_ID));
    s0_initNFC.add(init_nfc_image);

    add(s0_initNFC);

    s1_waitReadNFC.setPosition(0, 0, 320, 240);
    s1_waitReadNFC.setVisible(false);
    text1.setPosition(0, 140, 320, 40);
    text1.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text1.setLinespacing(0);
    text1.setTypedText(touchgfx::TypedText(T_SF4_WAIT_READ_NFC));
    s1_waitReadNFC.add(text1);

    image1.setXY(112, 49);
    image1.setBitmap(touchgfx::Bitmap(BITMAP_GRAFISMO_NFC_CUVEX_ID));
    s1_waitReadNFC.add(image1);

    add(s1_waitReadNFC);

    s2_viewTagInfo.setPosition(0, 0, 320, 240);
    s2_viewTagInfo.setVisible(false);
    btn_clone.setBoxWithBorderPosition(0, 0, 320, 30);
    btn_clone.setBorderSize(0);
    btn_clone.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(63, 63, 81), touchgfx::Color::getColorFromRGB(64, 92, 160), touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(51, 102, 153));
    btn_clone.setText(TypedText(T_SF4_BTN_CLONE));
    btn_clone.setTextPosition(0, 5, 320, 30);
    btn_clone.setTextColors(touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(237, 237, 237));
    btn_clone.setAction(flexButtonCallback);
    btn_clone.setPosition(0, 210, 320, 30);
    s2_viewTagInfo.add(btn_clone);

    text_uid_info.setPosition(0, 100, 320, 20);
    text_uid_info.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text_uid_info.setLinespacing(0);
    text_uid_info.setTypedText(touchgfx::TypedText(T_SF4_TEXT_UID_INFO));
    s2_viewTagInfo.add(text_uid_info);

    text_uid.setPosition(0, 120, 320, 20);
    text_uid.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text_uid.setLinespacing(0);
    Unicode::snprintf(text_uidBuffer, TEXT_UID_SIZE, "%s", touchgfx::TypedText(T_SF4_TEXT_UID_VALUE).getText());
    text_uid.setWildcard(text_uidBuffer);
    text_uid.setTypedText(touchgfx::TypedText(T_SF4_TEXT_UID));
    s2_viewTagInfo.add(text_uid);

    text_alias_info.setPosition(0, 100, 320, 20);
    text_alias_info.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text_alias_info.setLinespacing(0);
    text_alias_info.setTypedText(touchgfx::TypedText(T_SF4_TEXT_ALIAS_INFO));
    text_alias_info.setVisible(false);
    s2_viewTagInfo.add(text_alias_info);

    text_alias.setPosition(0, 120, 320, 20);
    text_alias.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text_alias.setLinespacing(0);
    Unicode::snprintf(text_aliasBuffer, TEXT_ALIAS_SIZE, "%s", touchgfx::TypedText(T_SF4_TEXT_ALIAS_VALUE).getText());
    text_alias.setWildcard(text_aliasBuffer);
    text_alias.setTypedText(touchgfx::TypedText(T_SF4_TEXT_ALIAS));
    text_alias.setVisible(false);
    s2_viewTagInfo.add(text_alias);

    add(s2_viewTagInfo);

    s3_readError.setPosition(0, 0, 320, 240);
    s3_readError.setVisible(false);
    btn_retry.setBoxWithBorderPosition(0, 0, 320, 30);
    btn_retry.setBorderSize(0);
    btn_retry.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(63, 63, 81), touchgfx::Color::getColorFromRGB(64, 92, 160), touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(51, 102, 153));
    btn_retry.setText(TypedText(T_SF4_READ_ERROR_BTN_RETRY));
    btn_retry.setTextPosition(0, 5, 320, 30);
    btn_retry.setTextColors(touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(237, 237, 237));
    btn_retry.setAction(flexButtonCallback);
    btn_retry.setPosition(0, 210, 320, 30);
    s3_readError.add(btn_retry);

    text3.setPosition(0, 140, 320, 40);
    text3.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text3.setLinespacing(0);
    text3.setTypedText(touchgfx::TypedText(T_SF4_READ_ERROR_INFO));
    s3_readError.add(text3);

    image3.setXY(117, 44);
    image3.setBitmap(touchgfx::Bitmap(BITMAP_GRAFISMO_ERROR_CUVEX_ID));
    s3_readError.add(image3);

    add(s3_readError);

    s4_waitReadWriteNFC.setPosition(0, 0, 320, 240);
    s4_waitReadWriteNFC.setVisible(false);
    text4.setPosition(0, 140, 320, 40);
    text4.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text4.setLinespacing(0);
    text4.setTypedText(touchgfx::TypedText(T_SF4_WAIT_READ_WRITE_NFC));
    s4_waitReadWriteNFC.add(text4);

    image4.setXY(112, 49);
    image4.setBitmap(touchgfx::Bitmap(BITMAP_GRAFISMO_NFC_CUVEX_ID));
    s4_waitReadWriteNFC.add(image4);

    add(s4_waitReadWriteNFC);

    s5_writeError.setPosition(0, 0, 320, 240);
    s5_writeError.setVisible(false);
    btn_exit_fail.setBoxWithBorderPosition(0, 0, 320, 30);
    btn_exit_fail.setBorderSize(0);
    btn_exit_fail.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(63, 63, 81), touchgfx::Color::getColorFromRGB(64, 92, 160), touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(51, 102, 153));
    btn_exit_fail.setText(TypedText(T_SF4_BTN_EXIT_FAIL));
    btn_exit_fail.setTextPosition(0, 5, 320, 30);
    btn_exit_fail.setTextColors(touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(237, 237, 237));
    btn_exit_fail.setAction(flexButtonCallback);
    btn_exit_fail.setPosition(0, 210, 320, 30);
    s5_writeError.add(btn_exit_fail);

    text5.setPosition(0, 90, 320, 60);
    text5.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text5.setLinespacing(0);
    text5.setTypedText(touchgfx::TypedText(T_SF4_WRITE_ERROR_INFO));
    s5_writeError.add(text5);

    add(s5_writeError);

    s6_writeSuccess.setPosition(0, 0, 320, 240);
    s6_writeSuccess.setVisible(false);
    btn_exit_success.setBoxWithBorderPosition(0, 0, 320, 30);
    btn_exit_success.setBorderSize(0);
    btn_exit_success.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(63, 63, 81), touchgfx::Color::getColorFromRGB(64, 92, 160), touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(51, 102, 153));
    btn_exit_success.setText(TypedText(T_SF4_BTN_EXIT_SUCCESS));
    btn_exit_success.setTextPosition(0, 5, 320, 30);
    btn_exit_success.setTextColors(touchgfx::Color::getColorFromRGB(237, 237, 237), touchgfx::Color::getColorFromRGB(237, 237, 237));
    btn_exit_success.setAction(flexButtonCallback);
    btn_exit_success.setPosition(0, 210, 320, 30);
    s6_writeSuccess.add(btn_exit_success);

    text6.setPosition(0, 140, 320, 20);
    text6.setColor(touchgfx::Color::getColorFromRGB(63, 63, 81));
    text6.setLinespacing(0);
    text6.setTypedText(touchgfx::TypedText(T_SF4_WRITE_SUCCESS_INFO));
    s6_writeSuccess.add(text6);

    image6.setXY(117, 44);
    image6.setBitmap(touchgfx::Bitmap(BITMAP_GRAFISMO_PROCESO_EXITOSO_CUVEX_ID));
    s6_writeSuccess.add(image6);

    add(s6_writeSuccess);

    close_button.setXY(0, 0);
    add(close_button);
}

screen_flow_4ViewBase::~screen_flow_4ViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void screen_flow_4ViewBase::setupScreen()
{
    init_nfc_thinking_circles.initialize();
    close_button.initialize();
}

void screen_flow_4ViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &btn_clone)
    {
        //Interaction2
        //When btn_clone clicked call virtual function
        //Call clonePressed
        clonePressed();
    }
    if (&src == &btn_retry)
    {
        //Interaction3
        //When btn_retry clicked call virtual function
        //Call retryPressed
        retryPressed();
    }
    if (&src == &btn_exit_success)
    {
        //Interaction4
        //When btn_exit_success clicked call virtual function
        //Call exitSuccessPressed
        exitSuccessPressed();
    }
    if (&src == &btn_exit_fail)
    {
        //Interaction5
        //When btn_exit_fail clicked call virtual function
        //Call exitFailPressed
        exitFailPressed();
    }
}

void screen_flow_4ViewBase::handleTickEvent()
{
    frameCountInteraction1Interval++;
    if(frameCountInteraction1Interval == TICK_INTERACTION1_INTERVAL)
    {
        //Interaction1
        //When every N tick call virtual function
        //Call tickEventScreen
        tickEventScreen();
        frameCountInteraction1Interval = 0;
    }
}
